
import sympy
import gmpy2
import libnum

p1= 60467051768925554279395627929487246651441969710114379623970704524440146438865131740327331949347788009011170477069361864319571593555450607543178475882468518795493994024991592489685281673686726195413691712088860130757391583131455349577611120347223192373896287023966358858482743772772921541172060620133329371167
q1= 82862702389042984608677507303893897115309550197379993160706488463057800319444279154530068506632463002430438649283024548986408559772935596405841296567013316098616305772348172081392132615654074318830983380953840652918786796875128567468985603898997056360715990354872413129052574583818848213843724264305768754943
d= 4664544665277021619801360733626975547734591371005998531934725869069949673962335521686599533384243606425519328593018271934156880014695514098601469946403015536394808224425560223028715424032088170190973536437068496861271291728948060462114070233216259450334895867389125825464519048665825207126562329667038489260777602466535511613473983911258250697177619654635547088004075093996752081985328779751617039502540857547025841963576893058215479869586180523345709552710019235558270754692956640771450532150335871940960539339209949461762875328611441016636049166987253197872543114674514688817251954848940932189358834178741278811213
c= 15874520226320445777541691162652476612359075042105769425575884324219204601385289425165706462637490255596967369170559883994424214474848173588933082609280683335312985044282422874850147241730260472097418413298138614797233553338719793817978738153670463764755241133330948951814505469191689428637180645464128293776352255670235342942073418877803855688381274818784317263923485732983521702100523935984796420428176905112155698268356831643449187032018032334494579201606356389579531314510652383796440496691391532743452922365803405894272331898678994915712995233487672680064911753948320177773789418650082873188150998309004716682880
e= 65537

p = sympy.symbols('p')
q = sympy.symbols('q')
for k in range(e,1,-1):
    try:
        if (e*d-1)%k==0:
            phi=(e*d-1)//k
            f1 = (p - 1) * (q - 1) - phi
            f2 = q1 * q + p1 * p - p * q - 1
            c1 = sympy.solve([f1, f2], [p, q])
            p = int(c1[1][0])
            print(p)
            q = int(c1[1][1])
            print(q)
            break
    except:
        continue

n=p*q
m=pow(c,d,n)
print(libnum.n2s(m))